<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ç§»åŠ¨ç«¯ç§»é™¤åŠŸèƒ½è°ƒè¯• - Hide All</title>
  <meta name="description" content="è°ƒè¯•ç§»åŠ¨ç«¯æ¨¡å—ç§»é™¤åŠŸèƒ½">
  
  <style>
    .debug-info {
      position: fixed;
      top: 10px;
      left: 10px;
      background: rgba(0,0,0,0.9);
      color: white;
      padding: 15px;
      border-radius: 8px;
      font-size: 12px;
      z-index: 1000;
      max-width: 300px;
    }
    
    .test-section {
      border: 2px solid #ccc;
      margin: 20px 0;
      padding: 20px;
      background: #f9f9f9;
    }
    
    .section-removed {
      border-color: #dc2626;
      background: #fee2e2;
    }
    
    .section-visible {
      border-color: #16a34a;
      background: #dcfce7;
    }
    
    .manual-test {
      position: fixed;
      top: 10px;
      right: 10px;
      background: #3B5AFB;
      color: white;
      padding: 10px;
      border-radius: 5px;
      font-size: 12px;
      z-index: 1000;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <!-- è°ƒè¯•ä¿¡æ¯ -->
  <div class="debug-info">
    <h3>è°ƒè¯•ä¿¡æ¯</h3>
    <div>å±å¹•å®½åº¦: <span id="screen-width">æ£€æµ‹ä¸­...</span></div>
    <div>è®¾å¤‡ç±»å‹: <span id="device-type">æ£€æµ‹ä¸­...</span></div>
    <div>isMobile(): <span id="is-mobile-result">æ£€æµ‹ä¸­...</span></div>
    <div>Videoæ¨¡å—çŠ¶æ€: <span id="video-status">æ£€æµ‹ä¸­...</span></div>
    <div>How Worksæ¨¡å—çŠ¶æ€: <span id="how-works-status">æ£€æµ‹ä¸­...</span></div>
    <div>æ‰§è¡Œæ—¶é—´: <span id="execution-time">æ£€æµ‹ä¸­...</span></div>
  </div>
  
  <!-- æ‰‹åŠ¨æµ‹è¯•æŒ‰é’® -->
  <div class="manual-test" onclick="manualTest()">
    æ‰‹åŠ¨æµ‹è¯•ç§»é™¤
  </div>

  <div class="container" style="margin-top: 100px;">
    <h1>ç§»åŠ¨ç«¯ç§»é™¤åŠŸèƒ½è°ƒè¯•</h1>
    
    <!-- æµ‹è¯•è¯´æ˜ -->
    <div class="test-section">
      <h2>æµ‹è¯•è¯´æ˜</h2>
      <p>è¿™ä¸ªé¡µé¢ç”¨äºè°ƒè¯•ç§»åŠ¨ç«¯æ¨¡å—ç§»é™¤åŠŸèƒ½ã€‚è¯·ï¼š</p>
      <ol>
        <li>æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·</li>
        <li>åˆ‡æ¢åˆ°ç§»åŠ¨ç«¯æ¨¡å¼ï¼ˆå¦‚iPhoneæˆ–Androidï¼‰</li>
        <li>åˆ·æ–°é¡µé¢</li>
        <li>è§‚å¯Ÿè°ƒè¯•ä¿¡æ¯å’Œæ¨¡å—çŠ¶æ€</li>
        <li>å¦‚æœè‡ªåŠ¨ç§»é™¤å¤±è´¥ï¼Œç‚¹å‡»"æ‰‹åŠ¨æµ‹è¯•ç§»é™¤"æŒ‰é’®</li>
      </ol>
    </div>
    
    <!-- How Hide All Works æµ‹è¯•æ¨¡å— -->
    <div id="how-hide-all-works-section" class="test-section section-visible">
      <h2>How Hide All Works æ¨¡å—</h2>
      <p>è¿™ä¸ªæ¨¡å—åº”è¯¥åœ¨ç§»åŠ¨ç«¯è¢«æ›¿æ¢ä¸ºç®€åŒ–ç‰ˆæœ¬ã€‚</p>
      <div style="background: #e5e7eb; padding: 10px; margin: 10px 0;">
        <p>åŸå§‹å†…å®¹ï¼š5ä¸ªå›¾ç‰‡å¡ç‰‡</p>
      </div>
    </div>
    
    <!-- Video Walkthrough æµ‹è¯•æ¨¡å— -->
    <div id="video-walkthrough-section" class="test-section section-visible">
      <h2>Video Walkthrough æ¨¡å—</h2>
      <p>è¿™ä¸ªæ¨¡å—åº”è¯¥åœ¨ç§»åŠ¨ç«¯è¢«å®Œå…¨ç§»é™¤ã€‚</p>
      <div style="background: #e5e7eb; padding: 10px; margin: 10px 0;">
        <p>åŸå§‹å†…å®¹ï¼šè§†é¢‘æ’­æ”¾å™¨å’Œ8ä¸ªåŠŸèƒ½åˆ—è¡¨</p>
        <video width="200" height="150" controls>
          <source src="assets/video1.mp4" type="video/mp4">
          æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ ‡ç­¾ã€‚
        </video>
      </div>
    </div>
  </div>

  <script>
    let startTime = performance.now();
    
    // ç§»åŠ¨ç«¯æ£€æµ‹å‡½æ•°
    const isMobile = () => {
      return window.innerWidth <= 768 || /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    };
    
    // ç§»åŠ¨ç«¯ä¼˜åŒ–é…ç½®
    const mobileOptimizations = {
      // ç§»åŠ¨ç«¯åŠ¨æ€æ›¿æ¢How Hide All Worksæ¨¡å—
      replaceHowWorksSection: async () => {
        if (isMobile()) {
          const howWorksSection = document.getElementById('how-hide-all-works-section');
          if (howWorksSection) {
            try {
              // åŠ è½½ç§»åŠ¨ç«¯ç®€åŒ–ç‰ˆæœ¬
              const response = await fetch('mobile-how-works-simplified.html');
              const simplifiedContent = await response.text();
              
              // æ›¿æ¢å†…å®¹
              howWorksSection.outerHTML = simplifiedContent;
              
              console.log('âœ… ç§»åŠ¨ç«¯How Hide All Worksæ¨¡å—å·²ä¼˜åŒ–');
              return true;
            } catch (error) {
              console.warn('âŒ æ— æ³•åŠ è½½ç§»åŠ¨ç«¯ç®€åŒ–ç‰ˆæœ¬:', error);
              return false;
            }
          }
        }
        return false;
      },
      
      // ç§»åŠ¨ç«¯ç§»é™¤Video Walkthroughæ¨¡å—
      removeVideoWalkthroughSection: () => {
        if (isMobile()) {
          const videoSection = document.getElementById('video-walkthrough-section');
          if (videoSection) {
            // ç§»é™¤æ•´ä¸ªVideo Walkthroughæ¨¡å—
            videoSection.remove();
            console.log('âœ… ç§»åŠ¨ç«¯Video Walkthroughæ¨¡å—å·²ç§»é™¤');
            return true;
          }
        }
        return false;
      }
    };
    
    // æ›´æ–°è°ƒè¯•ä¿¡æ¯
    function updateDebugInfo() {
      const executionTime = (performance.now() - startTime).toFixed(2);
      
      document.getElementById('screen-width').textContent = window.innerWidth + 'px';
      document.getElementById('device-type').textContent = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ? 'ç§»åŠ¨è®¾å¤‡' : 'æ¡Œé¢è®¾å¤‡';
      document.getElementById('is-mobile-result').textContent = isMobile() ? 'true' : 'false';
      document.getElementById('execution-time').textContent = executionTime + 'ms';
      
      const videoSection = document.getElementById('video-walkthrough-section');
      const howWorksSection = document.getElementById('how-hide-all-works-section');
      
      document.getElementById('video-status').textContent = videoSection ? 'å­˜åœ¨' : 'å·²ç§»é™¤';
      document.getElementById('how-works-status').textContent = howWorksSection ? 'å­˜åœ¨' : 'å·²ç§»é™¤';
    }
    
    // æ‰‹åŠ¨æµ‹è¯•å‡½æ•°
    function manualTest() {
      console.log('ğŸ”§ å¼€å§‹æ‰‹åŠ¨æµ‹è¯•...');
      console.log('isMobile():', isMobile());
      console.log('å±å¹•å®½åº¦:', window.innerWidth);
      console.log('ç”¨æˆ·ä»£ç†:', navigator.userAgent);
      
      const videoResult = mobileOptimizations.removeVideoWalkthroughSection();
      const howWorksResult = mobileOptimizations.replaceHowWorksSection();
      
      console.log('Videoç§»é™¤ç»“æœ:', videoResult);
      console.log('How Worksæ›¿æ¢ç»“æœ:', howWorksResult);
      
      setTimeout(updateDebugInfo, 500);
    }
    
    // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
    document.addEventListener('DOMContentLoaded', () => {
      console.log('ğŸš€ é¡µé¢åŠ è½½å®Œæˆï¼Œå¼€å§‹ç§»åŠ¨ç«¯ä¼˜åŒ–...');
      console.log('isMobile():', isMobile());
      console.log('å±å¹•å®½åº¦:', window.innerWidth);
      
      updateDebugInfo();
      
      // å»¶è¿Ÿæ‰§è¡Œæ¨¡å—æ“ä½œ
      setTimeout(async () => {
        console.log('â° å¼€å§‹æ‰§è¡Œæ¨¡å—æ“ä½œ...');
        
        const videoResult = mobileOptimizations.removeVideoWalkthroughSection();
        const howWorksResult = await mobileOptimizations.replaceHowWorksSection();
        
        console.log('Videoç§»é™¤ç»“æœ:', videoResult);
        console.log('How Worksæ›¿æ¢ç»“æœ:', howWorksResult);
        
        updateDebugInfo();
      }, 200);
    });
    
    // ç›‘å¬çª—å£å¤§å°å˜åŒ–
    window.addEventListener('resize', () => {
      console.log('ğŸ“± çª—å£å¤§å°æ”¹å˜:', window.innerWidth);
      updateDebugInfo();
    });
    
    // å®šæœŸæ›´æ–°è°ƒè¯•ä¿¡æ¯
    setInterval(updateDebugInfo, 2000);
  </script>
</body>
</html> 