<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AITDK SEO Extension æ·±åº¦è°ƒè¯• - Hide All</title>
    <meta name="description" content="ä¸“é—¨ç”¨äºè°ƒè¯•AITDK SEO Extensionæ’ä»¶å…¼å®¹æ€§é—®é¢˜çš„é¡µé¢">
    <meta name="keywords" content="AITDK, SEO, Extension, Debug, Hide All">
    <meta name="robots" content="index, follow">
    
    <!-- å®Œå…¨å¼€æ”¾çš„æ‰©å±•ç¨‹åºæ”¯æŒ -->
    <meta name="extension-friendly" content="true">
    <meta name="seo-tools-compatible" content="true">
    <meta name="aitdk-seo-extension" content="enabled">
    <meta name="chrome-extension-compatible" content="true">
    <meta name="browser-extension-allowed" content="all">
    <meta name="content-security-policy" content="">
    <meta name="referrer" content="unsafe-url">
    
    <!-- å¼€æ”¾å›¾æ ‡ç­¾ -->
    <meta property="og:title" content="AITDK SEO Extension Debug Page">
    <meta property="og:description" content="Debugging page for AITDK SEO Extension compatibility">
    <meta property="og:type" content="website">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
            padding: 20px;
        }
        
        .debug-container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            color: #333;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            backdrop-filter: blur(20px);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            border-radius: 12px;
        }
        
        .debug-section {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .success {
            border-color: #28a745;
            background: #d4edda;
        }
        
        .warning {
            border-color: #ffc107;
            background: #fff3cd;
        }
        
        .error {
            border-color: #dc3545;
            background: #f8d7da;
        }
        
        .info {
            border-color: #17a2b8;
            background: #d1ecf1;
        }
        
        .debug-output {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            margin: 10px 0;
            white-space: pre-wrap;
            word-wrap: break-word;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .test-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-left: 4px solid #667eea;
        }
        
        .test-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin: 10px 5px;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        
        .real-time-log {
            background: #1a202c;
            color: #68d391;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            height: 200px;
            overflow-y: auto;
            margin: 15px 0;
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-online {
            background: #28a745;
            box-shadow: 0 0 8px #28a745;
        }
        
        .status-offline {
            background: #dc3545;
            box-shadow: 0 0 8px #dc3545;
        }
        
        .status-unknown {
            background: #ffc107;
            box-shadow: 0 0 8px #ffc107;
        }
        
        .extension-simulation {
            background: #e3f2fd;
            border: 2px dashed #2196f3;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        .checklist {
            background: #f0f8f4;
            border-left: 4px solid #28a745;
            padding: 20px;
            margin: 20px 0;
        }
        
        .checklist ul {
            list-style: none;
            padding-left: 0;
        }
        
        .checklist li {
            padding: 8px 0;
            position: relative;
            padding-left: 30px;
        }
        
        .checklist li:before {
            content: "âœ…";
            position: absolute;
            left: 0;
            top: 8px;
        }
    </style>
</head>
<body>
    <div class="debug-container">
        <div class="header">
            <h1>ğŸ”§ AITDK SEO Extension æ·±åº¦è°ƒè¯•</h1>
            <p>ä¸“ä¸šçº§æ’ä»¶å…¼å®¹æ€§è¯Šæ–­å·¥å…·</p>
            <p><strong>è°ƒè¯•æ—¶é—´:</strong> <span id="debug-time"></span></p>
        </div>

        <div class="debug-section info">
            <h3>ğŸ“Š å®æ—¶çŠ¶æ€ç›‘æ§</h3>
            <div class="test-grid">
                <div class="test-card">
                    <h4><span class="status-indicator" id="extension-status"></span>æ‰©å±•ç¨‹åºçŠ¶æ€</h4>
                    <p id="extension-status-text">æ£€æµ‹ä¸­...</p>
                </div>
                <div class="test-card">
                    <h4><span class="status-indicator status-online"></span>é¡µé¢å…¼å®¹æ€§</h4>
                    <p>âœ… å®Œå…¨å…¼å®¹æ¨¡å¼å·²å¯ç”¨</p>
                </div>
                <div class="test-card">
                    <h4><span class="status-indicator status-online"></span>å®‰å…¨ç­–ç•¥</h4>
                    <p>âœ… æ‰€æœ‰é™åˆ¶å·²ç§»é™¤</p>
                </div>
                <div class="test-card">
                    <h4><span class="status-indicator status-online"></span>è·¨åŸŸè®¿é—®</h4>
                    <p>âœ… å®Œå…¨å¼€æ”¾</p>
                </div>
            </div>
        </div>

        <div class="debug-section">
            <h3>ğŸ” æ‰©å±•ç¨‹åºæ£€æµ‹æµ‹è¯•</h3>
            <div class="test-grid">
                <div>
                    <button class="test-button" onclick="testExtensionPresence()">
                        ğŸ” æ£€æµ‹æ‰©å±•ç¨‹åºå­˜åœ¨
                    </button>
                    <button class="test-button" onclick="testPageAccess()">
                        ğŸ“„ æµ‹è¯•é¡µé¢è®¿é—®æ€§
                    </button>
                </div>
                <div>
                    <button class="test-button" onclick="testMetaTags()">
                        ğŸ·ï¸ éªŒè¯Metaæ ‡ç­¾
                    </button>
                    <button class="test-button" onclick="testDOMAccess()">
                        ğŸŒ æµ‹è¯•DOMè®¿é—®æƒé™
                    </button>
                </div>
            </div>
        </div>

        <div class="debug-section">
            <h3>ğŸ“º å®æ—¶æ—¥å¿—ç›‘æ§</h3>
            <div class="real-time-log" id="real-time-log">
                [å¯åŠ¨] AITDK SEO Extension è°ƒè¯•æ¨¡å¼å·²æ¿€æ´»...
            </div>
            <button class="test-button" onclick="clearLog()" style="width: auto;">ğŸ—‘ï¸ æ¸…é™¤æ—¥å¿—</button>
            <button class="test-button" onclick="exportLog()" style="width: auto;">ğŸ’¾ å¯¼å‡ºæ—¥å¿—</button>
        </div>

        <div class="extension-simulation">
            <h3>ğŸ­ æ‰©å±•ç¨‹åºè¡Œä¸ºæ¨¡æ‹Ÿ</h3>
            <p>æ¨¡æ‹ŸAITDK SEO Extensionçš„å…¸å‹è®¿é—®æ¨¡å¼</p>
            <button class="test-button" onclick="simulateExtensionAccess()">
                ğŸš€ å¼€å§‹æ¨¡æ‹Ÿæµ‹è¯•
            </button>
        </div>

        <div class="debug-section">
            <h3>ğŸ“‹ æŠ€æœ¯ä¿¡æ¯è¾“å‡º</h3>
            <div class="debug-output" id="debug-output">
                æ­£åœ¨æ”¶é›†æŠ€æœ¯ä¿¡æ¯...
            </div>
        </div>

        <div class="checklist">
            <h3>âœ… å·²å®æ–½çš„ä¿®å¤æªæ–½</h3>
            <ul>
                <li>å®Œå…¨ç§»é™¤HTTPç¼“å­˜é™åˆ¶ (Cache-Control: public, max-age=0)</li>
                <li>å¯ç”¨å…¨å±€è·¨åŸŸèµ„æºå…±äº« (Access-Control-Allow-Origin: *)</li>
                <li>ç¦ç”¨å†…å®¹å®‰å…¨ç­–ç•¥é™åˆ¶ (CSP: ç©ºå€¼)</li>
                <li>å…è®¸æ‰€æœ‰æ–¹æ³•å’Œå¤´éƒ¨ (Access-Control-Allow-Methods: *)</li>
                <li>ç§»é™¤X-Frame-Optionsé™åˆ¶ (X-Frame-Options: ALLOWALL)</li>
                <li>è®¾ç½®unsafe-urlå¼•ç”¨ç­–ç•¥</li>
                <li>æ·»åŠ æ‰©å±•ç¨‹åºå‹å¥½æ ‡è¯†å…ƒç´ </li>
                <li>åˆ›å»ºå…¨å±€JavaScriptå…¼å®¹æ€§å¯¹è±¡</li>
                <li>å®æ–½å®æ—¶æ‰©å±•ç¨‹åºè®¿é—®ç›‘å¬</li>
                <li>æä¾›å®Œæ•´çš„DOMè®¿é—®æƒé™</li>
            </ul>
        </div>

        <div class="debug-section warning">
            <h3>âš ï¸ æ³¨æ„äº‹é¡¹</h3>
            <p><strong>å½“å‰é…ç½®ä¸ºè°ƒè¯•æ¨¡å¼ï¼Œå®‰å…¨é™åˆ¶å·²å®Œå…¨ç§»é™¤ã€‚</strong></p>
            <p>å¦‚æœAITDK SEO Extensionåœ¨æ­¤é¡µé¢ä»ç„¶æ— æ³•å·¥ä½œï¼Œé—®é¢˜å¾ˆå¯èƒ½å‡ºç°åœ¨ï¼š</p>
            <ol>
                <li><strong>æ‰©å±•ç¨‹åºæœ¬èº«</strong> - éœ€è¦é‡æ–°å®‰è£…æˆ–æ›´æ–°</li>
                <li><strong>Chromeæƒé™è®¾ç½®</strong> - éœ€è¦æˆäºˆ"è®¿é—®æ‰€æœ‰ç½‘ç«™æ•°æ®"æƒé™</li>
                <li><strong>æ‰©å±•ç¨‹åºå†…éƒ¨é€»è¾‘</strong> - å¯èƒ½å­˜åœ¨ç‰¹å®šçš„ç½‘ç«™æ£€æµ‹é€»è¾‘</li>
                <li><strong>Chromeç‰ˆæœ¬å…¼å®¹æ€§</strong> - æ‰©å±•ç¨‹åºå¯èƒ½éœ€è¦ç‰¹å®šChromeç‰ˆæœ¬</li>
            </ol>
        </div>

        <div class="debug-section info">
            <h3>ğŸ”— å¿«é€Ÿæ“ä½œ</h3>
            <div style="text-align: center;">
                <button class="test-button" onclick="window.location.href='index.html'" style="width: auto;">
                    ğŸ  è¿”å›ä¸»é¡µæµ‹è¯•
                </button>
                <button class="test-button" onclick="runFullDiagnostic()" style="width: auto;">
                    ğŸ” è¿è¡Œå®Œæ•´è¯Šæ–­
                </button>
                <button class="test-button" onclick="window.open('chrome://extensions/', '_blank')" style="width: auto;">
                    âš™ï¸ æ‰“å¼€æ‰©å±•ç¨‹åºç®¡ç†
                </button>
            </div>
        </div>
    </div>

    <!-- æ‰©å±•ç¨‹åºè°ƒè¯•è„šæœ¬ -->
    <script>
        // å…¨å±€è°ƒè¯•å˜é‡
        window.AITDKDebugMode = true;
        window.extensionFriendly = true;
        window.seoToolsCompatible = true;
        window.AITDKSEOExtensionEnabled = true;
        
        // æ—¥å¿—ç³»ç»Ÿ
        class DebugLogger {
            constructor() {
                this.logs = [];
                this.logElement = document.getElementById('real-time-log');
            }
            
            log(level, message) {
                const timestamp = new Date().toLocaleTimeString();
                const logEntry = `[${timestamp}] [${level}] ${message}`;
                this.logs.push(logEntry);
                
                if (this.logElement) {
                    this.logElement.textContent += logEntry + '\n';
                    this.logElement.scrollTop = this.logElement.scrollHeight;
                }
                
                console.log(`ğŸ” AITDK Debug: ${logEntry}`);
            }
            
            info(message) { this.log('INFO', message); }
            warn(message) { this.log('WARN', message); }
            error(message) { this.log('ERROR', message); }
            success(message) { this.log('SUCCESS', message); }
        }
        
        const logger = new DebugLogger();
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('debug-time').textContent = new Date().toLocaleString();
            
            logger.info('AITDK SEO Extension è°ƒè¯•é¡µé¢å·²åŠ è½½');
            logger.info('æ‰€æœ‰å®‰å…¨é™åˆ¶å·²ç§»é™¤');
            logger.info('æ‰©å±•ç¨‹åºè®¿é—®å®Œå…¨å¼€æ”¾');
            
            // åˆ›å»ºæ‰©å±•ç¨‹åºæ ‡è¯†
            const marker = document.createElement('div');
            marker.id = 'aitdk-seo-extension-marker';
            marker.setAttribute('data-extension-friendly', 'true');
            marker.setAttribute('data-seo-ready', 'true');
            marker.style.display = 'none';
            document.body.appendChild(marker);
            
            logger.success('æ‰©å±•ç¨‹åºæ ‡è¯†å…ƒç´ å·²åˆ›å»º');
            
            // ç›‘å¬æ‰©å±•ç¨‹åºæ¶ˆæ¯
            window.addEventListener('message', function(event) {
                logger.info(`æ”¶åˆ°æ¶ˆæ¯: ${JSON.stringify(event.data)}`);
            });
            
            // è‡ªåŠ¨è¿è¡Œåˆå§‹è¯Šæ–­
            setTimeout(runInitialDiagnostic, 1000);
        });
        
        // æ‰©å±•ç¨‹åºæ£€æµ‹å‡½æ•°
        function testExtensionPresence() {
            logger.info('å¼€å§‹æ£€æµ‹AITDK SEO Extension...');
            
            // æ–¹æ³•1: æ£€æŸ¥å·²çŸ¥çš„æ‰©å±•ç¨‹åºå…¨å±€å˜é‡
            const possibleGlobals = ['AITDK', 'SEOExtension', 'AITDKSEOExtension'];
            let found = false;
            
            possibleGlobals.forEach(global => {
                if (window[global]) {
                    logger.success(`æ£€æµ‹åˆ°å…¨å±€å˜é‡: ${global}`);
                    found = true;
                }
            });
            
            // æ–¹æ³•2: æ£€æŸ¥DOMä¸­çš„æ‰©å±•ç¨‹åºæ³¨å…¥å…ƒç´ 
            const extensionElements = document.querySelectorAll('[class*="aitdk"], [id*="aitdk"], [class*="seo-extension"], [id*="seo-extension"]');
            if (extensionElements.length > 0) {
                logger.success(`æ£€æµ‹åˆ°${extensionElements.length}ä¸ªæ‰©å±•ç¨‹åºç›¸å…³å…ƒç´ `);
                found = true;
            }
            
            // æ–¹æ³•3: æ£€æŸ¥scriptæ ‡ç­¾
            const scripts = Array.from(document.scripts);
            const extensionScripts = scripts.filter(script => 
                script.src && (script.src.includes('extension') || script.src.includes('chrome-extension'))
            );
            
            if (extensionScripts.length > 0) {
                logger.success(`æ£€æµ‹åˆ°${extensionScripts.length}ä¸ªæ‰©å±•ç¨‹åºè„šæœ¬`);
                found = true;
            }
            
            if (!found) {
                logger.warn('æœªæ£€æµ‹åˆ°AITDK SEO Extensionçš„æ˜æ˜¾è¿¹è±¡');
                logger.info('è¿™å¯èƒ½æ„å‘³ç€ï¼š1) æ‰©å±•ç¨‹åºæœªå®‰è£… 2) æ‰©å±•ç¨‹åºè¢«ç¦ç”¨ 3) æ‰©å±•ç¨‹åºæ— æ³•è®¿é—®æ­¤é¡µé¢');
            }
            
            updateExtensionStatus(found);
            updateDebugOutput();
        }
        
        function testPageAccess() {
            logger.info('æµ‹è¯•é¡µé¢è®¿é—®æƒé™...');
            
            const tests = [
                { name: 'document.title è®¿é—®', test: () => document.title },
                { name: 'document.body è®¿é—®', test: () => !!document.body },
                { name: 'window.location è®¿é—®', test: () => window.location.href },
                { name: 'localStorage è®¿é—®', test: () => { localStorage.setItem('test', '1'); return true; } },
                { name: 'sessionStorage è®¿é—®', test: () => { sessionStorage.setItem('test', '1'); return true; } },
                { name: 'cookie è®¿é—®', test: () => { document.cookie = 'test=1'; return true; } }
            ];
            
            tests.forEach(test => {
                try {
                    const result = test.test();
                    logger.success(`âœ… ${test.name}: ${result}`);
                } catch (e) {
                    logger.error(`âŒ ${test.name}: ${e.message}`);
                }
            });
        }
        
        function testMetaTags() {
            logger.info('éªŒè¯Metaæ ‡ç­¾é…ç½®...');
            
            const requiredMetas = [
                'extension-friendly',
                'seo-tools-compatible', 
                'aitdk-seo-extension',
                'chrome-extension-compatible'
            ];
            
            requiredMetas.forEach(metaName => {
                const meta = document.querySelector(`meta[name="${metaName}"]`);
                if (meta) {
                    logger.success(`âœ… ${metaName}: ${meta.content}`);
                } else {
                    logger.error(`âŒ ç¼ºå°‘metaæ ‡ç­¾: ${metaName}`);
                }
            });
            
            // æ£€æŸ¥CSP
            const csp = document.querySelector('meta[http-equiv="Content-Security-Policy"]');
            if (csp) {
                logger.warn(`CSPç­–ç•¥: ${csp.content}`);
            } else {
                logger.success('âœ… æ— CSPé™åˆ¶');
            }
        }
        
        function testDOMAccess() {
            logger.info('æµ‹è¯•DOMè®¿é—®æƒé™...');
            
            try {
                // åˆ›å»ºæµ‹è¯•å…ƒç´ 
                const testDiv = document.createElement('div');
                testDiv.id = 'extension-access-test';
                testDiv.textContent = 'Extension Access Test';
                document.body.appendChild(testDiv);
                
                // æµ‹è¯•æŸ¥è¯¢
                const foundDiv = document.getElementById('extension-access-test');
                if (foundDiv) {
                    logger.success('âœ… DOMå…ƒç´ åˆ›å»ºå’ŒæŸ¥è¯¢æ­£å¸¸');
                    
                    // æµ‹è¯•ä¿®æ”¹
                    foundDiv.style.color = 'red';
                    logger.success('âœ… DOMå…ƒç´ æ ·å¼ä¿®æ”¹æ­£å¸¸');
                    
                    // æ¸…ç†
                    document.body.removeChild(foundDiv);
                    logger.success('âœ… DOMå…ƒç´ åˆ é™¤æ­£å¸¸');
                } else {
                    logger.error('âŒ DOMå…ƒç´ æŸ¥è¯¢å¤±è´¥');
                }
                
            } catch (e) {
                logger.error(`âŒ DOMè®¿é—®é”™è¯¯: ${e.message}`);
            }
        }
        
        function simulateExtensionAccess() {
            logger.info('å¼€å§‹æ¨¡æ‹ŸAITDK SEO Extensionè®¿é—®...');
            
            // æ¨¡æ‹Ÿå…¸å‹çš„SEOåˆ†æè¡Œä¸º
            const seoElements = [
                'title',
                'meta[name="description"]',
                'meta[name="keywords"]',
                'h1', 'h2', 'h3',
                'img[alt]',
                'a[href]'
            ];
            
            seoElements.forEach(selector => {
                try {
                    const elements = document.querySelectorAll(selector);
                    logger.info(`å‘ç° ${elements.length} ä¸ª ${selector} å…ƒç´ `);
                    
                    if (elements.length > 0) {
                        // æ¨¡æ‹Ÿè¯»å–å†…å®¹
                        const firstElement = elements[0];
                        const content = firstElement.textContent || firstElement.getAttribute('content') || firstElement.getAttribute('alt') || firstElement.getAttribute('href');
                        if (content) {
                            logger.success(`è¯»å–åˆ°å†…å®¹: ${content.substring(0, 50)}...`);
                        }
                    }
                } catch (e) {
                    logger.error(`è¯»å– ${selector} æ—¶å‡ºé”™: ${e.message}`);
                }
            });
            
            logger.info('æ‰©å±•ç¨‹åºè®¿é—®æ¨¡æ‹Ÿå®Œæˆ');
        }
        
        function runInitialDiagnostic() {
            logger.info('è¿è¡Œåˆå§‹è¯Šæ–­...');
            testMetaTags();
            testPageAccess();
            testExtensionPresence();
            updateDebugOutput();
        }
        
        function runFullDiagnostic() {
            logger.info('=== å¼€å§‹å®Œæ•´è¯Šæ–­ ===');
            clearLog();
            logger.info('è¿è¡Œå®Œæ•´ç³»ç»Ÿè¯Šæ–­...');
            
            setTimeout(() => testMetaTags(), 500);
            setTimeout(() => testPageAccess(), 1000);
            setTimeout(() => testDOMAccess(), 1500);
            setTimeout(() => testExtensionPresence(), 2000);
            setTimeout(() => simulateExtensionAccess(), 2500);
            setTimeout(() => {
                updateDebugOutput();
                logger.success('=== å®Œæ•´è¯Šæ–­å®Œæˆ ===');
            }, 3000);
        }
        
        function updateExtensionStatus(found) {
            const statusIndicator = document.getElementById('extension-status');
            const statusText = document.getElementById('extension-status-text');
            
            if (found) {
                statusIndicator.className = 'status-indicator status-online';
                statusText.textContent = 'âœ… æ£€æµ‹åˆ°æ‰©å±•ç¨‹åºæ´»åŠ¨';
            } else {
                statusIndicator.className = 'status-indicator status-offline';
                statusText.textContent = 'âŒ æœªæ£€æµ‹åˆ°æ‰©å±•ç¨‹åº';
            }
        }
        
        function updateDebugOutput() {
            const output = document.getElementById('debug-output');
            const debugInfo = {
                timestamp: new Date().toISOString(),
                url: window.location.href,
                userAgent: navigator.userAgent,
                title: document.title,
                metaTags: Array.from(document.querySelectorAll('meta')).map(meta => ({
                    name: meta.name || meta.httpEquiv || meta.property,
                    content: meta.content
                })),
                globals: {
                    extensionFriendly: window.extensionFriendly,
                    seoToolsCompatible: window.seoToolsCompatible,
                    AITDKSEOExtensionEnabled: window.AITDKSEOExtensionEnabled,
                    AITDK_COMPATIBLE: window.AITDK_COMPATIBLE
                },
                domReady: document.readyState,
                scripts: Array.from(document.scripts).length,
                links: Array.from(document.links).length,
                images: Array.from(document.images).length
            };
            
            output.textContent = JSON.stringify(debugInfo, null, 2);
        }
        
        function clearLog() {
            logger.logs = [];
            const logElement = document.getElementById('real-time-log');
            if (logElement) {
                logElement.textContent = '[æ¸…é™¤] æ—¥å¿—å·²æ¸…ç©º\n';
            }
        }
        
        function exportLog() {
            const logContent = logger.logs.join('\n');
            const blob = new Blob([logContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `aitdk-debug-log-${new Date().toISOString()}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            logger.success('æ—¥å¿—å·²å¯¼å‡º');
        }
        
        // å…¨å±€è°ƒè¯•å‡½æ•°
        window.debugAITDKExtension = function() {
            return {
                logs: logger.logs,
                extensionFriendly: window.extensionFriendly,
                seoToolsCompatible: window.seoToolsCompatible,
                domReady: document.readyState,
                url: window.location.href
            };
        };
        
        // ç›‘å¬æ§åˆ¶å°å‘½ä»¤
        console.log('ğŸ”§ AITDKè°ƒè¯•å·¥å…·å·²åŠ è½½');
        console.log('ğŸ’¡ å¯ç”¨å‘½ä»¤:');
        console.log('   debugAITDKExtension() - è·å–è°ƒè¯•ä¿¡æ¯');
        console.log('   testExtensionPresence() - æµ‹è¯•æ‰©å±•ç¨‹åºå­˜åœ¨');
        console.log('   runFullDiagnostic() - è¿è¡Œå®Œæ•´è¯Šæ–­');
        
    </script>
</body>
</html> 